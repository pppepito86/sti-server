(this["webpackJsonpsti-client"]=this["webpackJsonpsti-client"]||[]).push([[0],{29:function(e,t,a){e.exports=a(45)},34:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(24),c=a.n(l),s=(a(34),a(3)),i=a.n(s),o=a(5),m=a(2),u="http://localhost/api/";function d(e){return b.apply(this,arguments)}function b(){return(b=Object(o.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t,"json");case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return E.apply(this,arguments)}function E(){return(E=Object(o.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t,"blob");case 2:return a=e.sent,e.next=5,a.blob();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,t){return h.apply(this,arguments)}function h(){return(h=Object(o.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(t,a);case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t){return g.apply(this,arguments)}function g(){return(g=Object(o.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),e.abrupt("return",k(t,a,n));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t,a){return fetch(u+e,{headers:{Authorization:"Basic ".concat(a)},responseType:t})}function N(e,t){return x.apply(this,arguments)}function x(){return(x=Object(o.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),e.abrupt("return",fetch(u+t,{method:"POST",headers:{Authorization:"Basic ".concat(n)},body:a,responseType:"json"}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=r.a.createContext(),w=function(){return r.a.useContext(y)},O=a(4),j=a(8),S=a(6),T=a(7),C=a(25),I=a(28);var D=function(e,t,a){var r=Object(n.useState)(null),l=Object(m.a)(r,2),c=l[0],s=l[1],u=Object(n.useState)(null),d=Object(m.a)(u,2),b=d[0],p=d[1],E=Object(n.useState)(!0),f=Object(m.a)(E,2),h=f[0],v=f[1];return Object(n.useEffect)((function(){function a(){return(a=Object(o.a)(i.a.mark((function a(){var n;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,v(!0),a.next=4,e(t);case 4:n=a.sent,s(n),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),p(a.t0);case 11:return a.prev=11,v(!1),a.finish(11);case 14:case"end":return a.stop()}}),a,null,[[0,8,11,14]])})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()}),[e,t].concat(Object(I.a)(a))),{value:c,error:b,loading:h}};var P=function(e,t){var a=Object(n.useRef)();Object(n.useEffect)((function(){a.current=e})),Object(n.useEffect)((function(){if(null!==t){var e=setInterval((function(){a.current()}),t);return function(){return clearInterval(e)}}}),[t])};function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var q=r.a.createContext(),M=function(e){var t=e.children,a=Object(n.useState)(),l=Object(m.a)(a,2),c=l[0],s=l[1],u=Object(n.useState)(),b=Object(m.a)(u,2),p=(b[0],b[1]),E=Object(n.useState)(Date.now()),h=Object(m.a)(E,2),v=h[0],g=h[1],k=Object(n.useState)(),N=Object(m.a)(k,2),x=N[0],y=N[1],w=Object(n.useState)(!1),O=Object(m.a)(w,2),j=O[0],S=O[1],T=Object(n.useState)(!1),I=Object(m.a)(T,2),M=I[0],F=I[1],Y=Object(n.useState)(!1),R=Object(m.a)(Y,2),H=R[0],B=R[1],L=Object(n.useState)(0),Q=Object(m.a)(L,2),W=Q[0],z=Q[1],_=Object(n.useState)([]),J=Object(m.a)(_,2),U=J[0],K=J[1],$=Object(n.useState)(0),G=Object(m.a)($,2),V=G[0],X=G[1],Z=Object(n.useState)([]),ee=Object(m.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!1),re=Object(m.a)(ne,2),le=re[0],ce=re[1],se=D(d,"time",[le]).value,ie=Object(n.useState)(!1),oe=Object(m.a)(ie,2),me=oe[0],ue=oe[1],de=D(d,"questions",[me]).value,be=Object(n.useState)(!1),pe=Object(m.a)(be,2),Ee=pe[0],fe=pe[1],he=D(d,"announcements",[Ee]).value;function ve(){ue((function(e){return!e}))}function ge(){fe((function(e){return!e}))}function ke(){return(ke=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<U.length)){e.next=9;break}if(!U[t].seen){e.next=4;break}return e.abrupt("continue",6);case 4:return e.next=6,Ne(U[t].id);case 6:t++,e.next=1;break;case 9:ve();case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ne=function(){var e=Object(o.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("id",t),e.next=4,f("questions/seen",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function xe(){return(xe=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<te.length)){e.next=9;break}if(!te[t].seen){e.next=4;break}return e.abrupt("continue",6);case 4:return e.next=6,ye(te[t].id);case 6:t++,e.next=1;break;case 9:ge();case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ye=function(){var e=Object(o.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("id",t),e.next=4,f("announcements/seen",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return P((function(){g(Date.now()),ce((function(e){return!e})),ve(),ge()}),1e4),P((function(){j||S(!0),M||F(!1),H||B(!0)}),!x||j||M?null:x.timeTillStart),P((function(){j&&S(!1),M||F(!0),H||B(!0)}),x&&j?x.timeTillEnd:null),Object(n.useEffect)((function(){new Promise((function(e,t){var a=window.webkitRTCPeerConnection||window.mozRTCPeerConnection;a||t("Your browser does not support this API");var n=new a({iceServers:[]});n.createDataChannel("",{reliable:!1}),n.onicecandidate=function(t){if(t.candidate){var a=function(e){var t="";return e.split("\r\n").forEach((function(e){if(~e.indexOf("a=candidate")){var a=(n=e.split(" "))[4];"host"===n[7]&&(t=a)}else if(~e.indexOf("c=")){var n;a=(n=e.split(" "))[2],t=a}})),t}("a="+t.candidate.candidate);e(a)}},n.createOffer((function(e){n.setLocalDescription(e)}),(function(e){console.warn("offer failed",e)}))})).then((function(e){p(e)}))}),[]),Object(n.useEffect)((function(){se&&(y(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(a,!0).forEach((function(t){Object(C.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},se,{startTime:Date.now()+se.timeTillStart,endTime:v+se.timeTillEnd})),!j&&se.timeTillStart<=0&&se.timeTillEnd>0&&S(!0),!j||se.timeTillStart<=0&&se.timeTillEnd>0||S(!1),!M&&se.timeTillEnd<=0&&F(!0),M&&se.timeTillEnd>0&&F(!1),H||!j&&!M||B(!0),!H||j||M||B(!1))}),[se]),Object(n.useEffect)((function(){de&&(K(de),z(de.slice().filter((function(e){return e.answer})).filter((function(e){return!e.seen})).length))}),[de]),Object(n.useEffect)((function(){he&&(ae(he),X(he.slice().filter((function(e){return!e.seen})).length))}),[he]),r.a.createElement(q.Provider,{value:{error:c,setError:s,time:x,contestIsRunning:j,contestIsFinished:M,contestIsStarted:H,questions:U,unreadQuestions:W,markQuestionsSeen:function(){return ke.apply(this,arguments)},updateQuestions:ve,announcements:te,unreadAnnouncements:V,updateAnnouncements:ge,markAnnouncementsSeen:function(){return xe.apply(this,arguments)}}},t)},F=function(){return r.a.useContext(q)},Y=r.a.createContext(),R=function(){return r.a.useContext(Y)};var H=function(){var e=R().shortTitle,t=Object(j.h)(),a=F().unreadQuestions,n=F().unreadAnnouncements,l=F().markQuestionsSeen,c=F().markAnnouncementsSeen;return r.a.createElement("header",{className:"main-header"},r.a.createElement(O.b,{to:"/",className:"logo"},r.a.createElement("span",{className:"logo-mini"},r.a.createElement("b",null,e)),r.a.createElement("span",{className:"logo-lg"},e)),r.a.createElement("nav",{className:"navbar navbar-static-top"},r.a.createElement("div",{className:"logo",style:{width:"auto",backgroundColor:"rgba(255, 255, 255, 0)"}},localStorage.getItem("name"),", ",localStorage.getItem("contest")," \u0433\u0440\u0443\u043f\u0430"),r.a.createElement("div",{className:"navbar-custom-menu"},r.a.createElement("ul",{className:"nav navbar-nav"},r.a.createElement("li",{className:"/"===t.pathname?"active":""},r.a.createElement(O.b,{to:"/",onClick:c},r.a.createElement(S.a,{icon:T.a}),n>0&&r.a.createElement("span",{className:"label label-danger"},n))),r.a.createElement("li",{className:"/questions"===t.pathname?"active":""},r.a.createElement(O.b,{to:"/questions",onClick:l},r.a.createElement(S.a,{icon:T.c}),a>0&&r.a.createElement("span",{className:"label label-danger"},a))),r.a.createElement("li",null,r.a.createElement(O.b,{to:"/",onClick:w().logout},r.a.createElement(S.a,{icon:T.h})))))))},B=a(20),L=function(){var e=F().time;return r.a.createElement("div",{id:"timer",style:{color:"#b8c7ce",textAlign:"center",fontSize:"36px"}},e&&e.timeTillStart>0&&r.a.createElement(B.a,{date:e.startTime,daysInHours:!0}),e&&e.timeTillStart<=0&&r.a.createElement(B.a,{date:e.endTime,daysInHours:!0},r.a.createElement("span",null,"\u0421\u044a\u0441\u0442\u0435\u0437\u0430\u043d\u0438\u0435\u0442\u043e \u043f\u0440\u0438\u043a\u043b\u044e\u0447\u0438")))},Q=function(){var e=Object(j.i)().tid,t=Object(j.h)(),a=F().contestIsRunning,n=F().contestIsFinished,l=F().unreadQuestions,c=F().unreadAnnouncements,s=F().markQuestionsSeen,i=F().markAnnouncementsSeen,o=D(d,"tasks",[a]),m=o.value,u=o.loading;return r.a.createElement("aside",{className:"main-sidebar"},r.a.createElement("section",{className:"sidebar"},r.a.createElement(L,null),r.a.createElement("ul",{className:"sidebar-menu tree","data-widget":"tree"},r.a.createElement("li",{className:"header"},"\u041c\u0415\u041d\u042e"),r.a.createElement("li",{className:"/"===t.pathname?"active":""},r.a.createElement(O.b,{to:"/",onClick:i},r.a.createElement(S.a,{icon:T.e})," \xa0",r.a.createElement("span",null,"\u041d\u0430\u0447\u0430\u043b\u043e"),c>0&&r.a.createElement("span",{className:"pull-right-container"},r.a.createElement("small",{className:"label pull-right bg-red"},"\u043d\u043e\u0432\u043e")))),r.a.createElement("li",{className:"/questions"===t.pathname?"active":""},r.a.createElement(O.b,{to:"/questions",onClick:s},r.a.createElement(S.a,{icon:T.g})," \xa0",r.a.createElement("span",null,"\u0412\u044a\u043f\u0440\u043e\u0441\u0438"),l>0&&r.a.createElement("span",{className:"pull-right-container"},r.a.createElement("small",{className:"label pull-right bg-red"},"\u043d\u043e\u0432\u043e")))),r.a.createElement("li",{className:"header"},"\u0417\u0410\u0414\u0410\u0427\u0418"),(a||n)&&!u&&m.map((function(t){return r.a.createElement("li",{key:t.number,className:t.number+""===e?"active":""},r.a.createElement(O.b,{to:"/task/".concat(t.number)},r.a.createElement(S.a,{icon:T.d})," \xa0",r.a.createElement("span",null,t.name)))})),r.a.createElement("li",{className:"header"},"\u0414\u041e\u041a\u0423\u041c\u0415\u041d\u0422\u0410\u0426\u0418\u042f"),r.a.createElement("li",null,r.a.createElement(O.b,{target:"_blank",to:"/docs/en/index.html"},r.a.createElement(S.a,{icon:T.b})," \xa0",r.a.createElement("span",null,"C++ \u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f"))))))};var W=function(){return r.a.createElement("footer",{className:"main-footer"},r.a.createElement("strong",null,"Copyright \xa9 2018 ",r.a.createElement("a",{href:"mailto:pppepito86@gmail.com"},"Petar Petrov"),", ",r.a.createElement("a",{href:"mailto:shalamanov.marin@gmail.com"},"Marin Shalamanov"),".")," All rights reserved.")},z=a(13),_=a.n(z);var J=function(e){var t=e.verdict;return r.a.createElement("div",null,t.slice().split(",").map((function(e,t){var a="OK"===e?"label-success":"?"===e?"label-default":"waiting"===e||"judging"===e?"label-warning":"label-danger",n="waiting"===e||"judging"===e?"50px":"26px";return r.a.createElement("span",{key:t,className:"label ".concat(a),style:{display:"inline-block",width:n,marginRight:"1px"}},e)})))};var U=function(e){var t=e.points,a=e.maxPoints,n=e.hovered;if(!t)return r.a.createElement("td",null);var l=t?1*t/a:-1,c=function(e){return 1===e?"#4E9A05":e>.9?"#639B04":e>.8?"#789C03":e>.7?"#8E9D02":e>.6?"#A39E01":e>.5?"#B99F00":e>.4?"#C89100":e>.3?"#D17400":e>.2?"#D95700":e>.1?"#E23A00":e>0?"#EB1D00":"#F40000"}(l),s=n?function(e){return 1===e?"linear-gradient(rgb(115, 210, 22), rgb(78, 154, 5))":e>.9?"linear-gradient(rgb(137, 210, 18), rgb(99, 155, 4))":e>.8?"linear-gradient(rgb(159, 210, 14), rgb(120, 156, 3))":e>.7?"linear-gradient(rgb(181, 211, 10), rgb(142, 157, 2))":e>.6?"linear-gradient(rgb(203, 211, 6), rgb(163, 158, 1))":e>.5?"linear-gradient(rgb(225, 211, 2), rgb(185, 159, 0))":e>.4?"linear-gradient(rgb(234, 192, 0), rgb(200, 145, 0))":e>.3?"linear-gradient(rgb(228, 154, 0), rgb(209, 116, 0))":e>.2?"linear-gradient(rgb(222, 115, 0), rgb(217, 87, 0))":e>.1?"linear-gradient(rgb(216, 77, 0), rgb(226, 58, 0))":e>0?"linear-gradient(rgb(210, 38, 0), rgb(235, 29, 0))":"linear-gradient(rgb(204, 0, 0), rgb(244, 0, 0))"}(l):void 0;return r.a.createElement("td",{style:{padding:"0",whiteSpace:"nowrap",verticalAlign:"middle"}},r.a.createElement("span",{className:"btn btn-success",style:{fontWeight:"bold",width:"98%",padding:"0",backgroundColor:c,borderColor:c,color:"black",backgroundImage:s,cursor:"auto"}},t||"N/A"))};var K=Object(j.j)((function(){var e=Object(n.useState)(0),t=Object(m.a)(e,2),a=t[0],l=t[1];return r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"box-header"},r.a.createElement("h3",{className:"box-title"},"\u041a\u043b\u0430\u0441\u0438\u0440\u0430\u043d\u0435"),r.a.createElement("div",{className:"box-tools"},r.a.createElement("div",{className:"input-group input-group-sm hidden-xs",style:{width:"150px"}},r.a.createElement("input",{type:"text",name:"table_search",className:"form-control pull-right",placeholder:"Search"}),r.a.createElement("div",{className:"input-group-btn"},r.a.createElement("button",{type:"submit",className:"btn btn-default"},r.a.createElement("i",{className:"fa fa-search"})))))),r.a.createElement("div",{className:"box-body table-responsive no-padding"},r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{width:"10px"}),r.a.createElement("th",{width:"10px"},"\u041c\u044f\u0441\u0442\u043e"),r.a.createElement("th",null,"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a"),r.a.createElement("th",{width:"50px"},"\u0417.1"),r.a.createElement("th",{width:"50px"},"\u0417.2"),r.a.createElement("th",{width:"50px"},"\u0417.3"),r.a.createElement("th",{width:"75px"},"\u041e\u0431\u0449\u043e"))),r.a.createElement("tbody",null,[{rank:1,name:"\u041a\u0440\u044a\u0441\u0442\u0430\u043d \u0410\u0441\u0435\u043d\u043e\u0432 \u0414\u0440\u0430\u0433\u0430\u043d\u043e\u0432",task1:80,task2:75,task3:100,total:255},{rank:2,name:"\u041a\u0440\u0438\u0441\u0442\u0438\u043d\u0430 \u0412\u0430\u043b\u0435\u043d\u0442\u0438\u043d\u043e\u0432\u0430 \u0421\u0442\u043e\u044f\u043d\u043e\u0432\u0430",task1:100,task2:20,task3:100,total:220},{rank:3,name:"\u0422\u0435\u043e\u0434\u043e\u0440 \u0426\u0432\u0435\u0442\u0430\u043b\u0438\u043d\u043e\u0432 \u0422\u043e\u0442\u0435\u0432",task1:100,task2:10,task3:100,total:210},{rank:3,name:"\u0411\u043e\u0440\u0438\u0441 \u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440\u043e\u0432 \u041c\u0438\u0445\u043e\u0432",task1:100,task2:10,task3:100,total:210},{rank:5,name:"\u0413\u0435\u043e\u0440\u0433\u0438 \u0413\u0435\u043e\u0440\u0433\u0438\u0435\u0432 \u0421\u043b\u0430\u0432\u0447\u0435\u0432",task1:100,task2:10,task3:40,total:150},{rank:6,name:"\u0415\u043c\u0438\u043b\u0438\u0430\u043d\u0430 \u0418\u0432\u0430\u043d\u043e\u0432\u0430 \u0414\u0438\u043c\u0438\u0442\u0440\u043e\u0432\u0430",task1:72,task2:25,task3:50,total:147},{rank:7,name:"\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u044a\u0440 \u041c\u0438\u0440\u043e\u0441\u043b\u0430\u0432\u043e\u0432 \u0413\u0430\u0442\u0435\u0432",task1:88,task2:10,task3:40,total:138},{rank:8,name:"\u041f\u0435\u0442\u044a\u0440 \u0412\u0435\u043b\u0438\u0441\u043b\u0430\u0432\u043e\u0432 \u041c\u0438\u0445\u043e\u0432",task1:92,task2:0,task3:40,total:132},{rank:9,name:"\u0413\u0435\u043e\u0440\u0433\u0438 \u041d\u0438\u043a\u043e\u043b\u0430\u0435\u0432 \u0418\u043b\u0438\u0435\u0432",task1:80,task2:45,task3:0,total:125},{rank:10,name:"\u041a\u0430\u043b\u043e\u044f\u043d \u0413\u0435\u043e\u0440\u0433\u0438\u0435\u0432 \u0415\u043b\u0435\u043d\u043a\u043e\u0432",task1:92,task2:10,task3:20,total:122},{rank:11,name:"\u041a\u0430\u043b\u043e\u044f\u043d \u041a\u0430\u043b\u0438\u043d\u043e\u0432 \u0414\u0438\u043c\u0438\u0442\u0440\u043e\u0432",task1:64,task2:0,task3:40,total:104},{rank:12,name:"\u041c\u0430\u0440\u0438\u044f \u041d\u0438\u043a\u043e\u043b\u0430\u0435\u0432\u0430 \u0414\u0440\u0435\u043d\u0447\u0435\u0432\u0430",task1:64,task2:25,task3:0,total:89},{rank:13,name:"\u041c\u0430\u0440\u0442\u0438\u043d \u0418\u0432\u043e\u0432 \u041c\u0438\u043d\u043a\u043e\u0432",task1:76,task2:0,task3:10,total:86},{rank:14,name:"\u041e\u0433\u043d\u044f\u043d \u041c\u0438\u0440\u043e\u0441\u043b\u0430\u0432\u043e\u0432 \u0419\u043e\u0440\u0433\u043e\u0432",task1:72,task2:0,task3:10,total:82},{rank:15,name:"\u0411\u043e\u0433\u0434\u0430\u043d \u041b\u044e\u0434\u043c\u0438\u043b\u043e\u0432 \u041b\u044e\u0446\u043a\u0430\u043d\u043e\u0432",task1:72,task2:0,task3:0,total:72},{rank:16,name:"\u041a\u0430\u043b\u043e\u044f\u043d \u0410\u0432\u0433\u0443\u0441\u0442\u0438\u043d\u043e\u0432 \u041c\u0430\u0440\u0438\u043d\u043e\u0432",task1:68,task2:0,task3:0,total:68},{rank:17,name:"\u0418\u0432\u0430\u043d \u0421\u0442\u0430\u043d\u0438\u043c\u0438\u0440\u043e\u0432 \u0410\u0442\u0430\u043d\u0430\u0441\u043e\u0432",task1:56,task2:10,task3:0,total:66},{rank:18,name:"\u041c\u0438\u043b\u0430 \u0411\u043e\u0440\u0438\u0441\u043e\u0432\u0430 \u0414\u0430\u0447\u0435\u0432\u0430",task1:64,task2:0,task3:0,total:64},{rank:18,name:"\u041b\u0430\u0437\u0430\u0440 \u0418\u0432\u0430\u043d\u043e\u0432 \u0422\u043e\u0434\u043e\u0440\u043e\u0432",task1:64,task2:0,task3:0,total:64},{rank:18,name:"\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u044a\u0440 \u0418\u0432\u0430\u043d\u043e\u0432 \u041a\u043e\u0434\u0436\u0430\u0431\u0430\u0448\u0438\u0439\u0441\u043a\u0438",task1:64,task2:0,task3:0,total:64}].map((function(e,t){return r.a.createElement("tr",{key:t,onMouseEnter:function(){return l(t)},onMouseLeave:function(){return l(-1)}},r.a.createElement("td",{style:{padding:"0"}}),r.a.createElement("td",{style:{padding:"0"}},r.a.createElement("span",{style:{padding:"0",marginLeft:"16px",fontWeight:"bold"}},e.rank)),r.a.createElement("td",{style:{padding:"0"}},r.a.createElement("span",{style:{padding:"0",fontWeight:"bold"}},e.name)),r.a.createElement(U,{points:e.task1,maxPoints:100,hovered:a===t}),r.a.createElement(U,{points:e.task2,maxPoints:100,hovered:a===t}),r.a.createElement(U,{points:e.task3,maxPoints:100,hovered:a===t}),r.a.createElement(U,{points:e.total,maxPoints:300,hovered:a===t}))}))))))})),$=a(44);function G(){return(G=Object(o.a)(i.a.mark((function e(t){var a,n,r,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("contest"),e.next=3,d("tasks/".concat(t));case 3:return n=e.sent.name,e.next=6,p("tasks/".concat(t,"/pdf"));case 6:r=e.sent,l=new Blob([r],{type:"application/pdf"}),$.saveAs(l,"".concat(a).concat(t,"-").concat(n,".pdf"));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){var t=e.tid,a=e.nextSubmissionTime,l=Object(j.g)(),c=Object(n.useState)(),s=Object(m.a)(c,2),u=s[0],d=s[1];function b(){return(b=Object(o.a)(i.a.mark((function e(a){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),console.log(u),u){e.next=4;break}return e.abrupt("return");case 4:return(n=new FormData).append("file",new Blob([u]),u.name),n.append("ip","127.0.0.1"),e.next=9,f("tasks/".concat(t,"/solutions"),n);case 9:r=e.sent,l.push("/task/".concat(t,"/submission/").concat(r.sid));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",{className:"box-body"},r.a.createElement("form",{method:"post",encType:"multipart/form-data",action:"/user/submit-file"},r.a.createElement("div",{className:"box-body"},r.a.createElement("input",{type:"hidden",className:"form-control",name:"problemNumber",id:"problemNumber",value:"1"}),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"file"},"\u0424\u0430\u0439\u043b"),r.a.createElement("input",{onChange:function(e){return d(e.target.files[0])},type:"file",name:"file",id:"file",accept:".cpp,.c"})),r.a.createElement("input",{type:"hidden",name:"ip",id:"ip",value:"92ed92a0-4e42-4b8e-b686-a6eb0c1d80c9.local"})),r.a.createElement(Z,{submit:function(e){return b.apply(this,arguments)},nextSubmissionTime:a})))}function X(e){var t=e.tid,a=e.nextSubmissionTime,l=Object(j.g)(),c=Object(n.useState)(""),s=Object(m.a)(c,2),u=s[0],d=s[1];function b(){return(b=Object(o.a)(i.a.mark((function e(a){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),u&&u.trim().length){e.next=3;break}return e.abrupt("return");case 3:return(n=new FormData).append("code",u),n.append("ip","127.0.0.1"),e.next=8,f("tasks/".concat(t,"/solutions"),n);case 8:r=e.sent,l.push("/task/".concat(t,"/submission/").concat(r.sid));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",{className:"box-body"},r.a.createElement("form",{method:"post",action:"/"},r.a.createElement("div",{className:"box-body"},r.a.createElement("input",{type:"hidden",className:"form-control",name:"problemNumber",id:"problemNumber",value:"1"}),r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{onChange:function(e){return d(e.target.value)},name:"code",placeholder:"\u041f\u043e\u0441\u0442\u0430\u0432\u0435\u0442\u0435 \u0432\u0430\u0448\u0438\u044f\u0442 \u043a\u043e\u0434",maxLength:"65536",style:{width:"100%",height:"80px",fontSize:"14px",lineHeight:"18px",border:"1px solid #dddddd",padding:"10px"}})),r.a.createElement("input",{type:"hidden",name:"ip",id:"ip",value:"92ed92a0-4e42-4b8e-b686-a6eb0c1d80c9.local"})),r.a.createElement(Z,{submit:function(e){return b.apply(this,arguments)},nextSubmissionTime:a})))}function Z(e){var t=e.submit,a=e.nextSubmissionTime,l=Object(n.useState)(Date.now()),c=Object(m.a)(l,2),s=c[0],i=c[1];P((function(){i(Date.now())}),s<a?500:null);var o=s<a?parseInt((a-s)/1e3+1,10):0;return r.a.createElement("div",{className:"box-footer"},r.a.createElement("button",{disabled:o>0,type:"submit",onClick:function(e){return t(e)},id:"submitcodebutton2",className:"btn btn-primary"},"\u041f\u0440\u0435\u0434\u0430\u0439"),o>0&&r.a.createElement("span",{id:"timetosubmit3",style:{marginLeft:"5px"}},"\u0441\u043b\u0435\u0434 ".concat(o," \u0441\u0435\u043a\u0443\u043d\u0434").concat(1!==o?"\u0438":"\u0430")))}function ee(){return r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"box-header with-border"},r.a.createElement("h3",{className:"box-title"},"\u041d\u044f\u043c\u0430 \u043f\u0440\u0435\u0434\u0430\u0434\u0435\u043d\u0438 \u0440\u0435\u0448\u0435\u043d\u0438\u044f")))}var te=function(e){var t=e.tid;return r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"box-header with-border"},r.a.createElement("h3",{className:"box-title"},"\u0423\u0441\u043b\u043e\u0432\u0438\u0435")),r.a.createElement("div",{className:"box-body"},r.a.createElement(O.b,{to:"/task/".concat(t,"/pdf"),className:"btn btn-info"},"\u041e\u0442\u0432\u043e\u0440\u0438"),r.a.createElement("button",{onClick:function(){return function(e){return G.apply(this,arguments)}(t)},to:"/task/".concat(t,"/pdf"),style:{marginLeft:"3px"},className:"btn btn-info"},"\u0418\u0437\u0442\u0435\u0433\u043b\u0438")))},ae=function(e){var t=e.time,a=e.memory;return r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"box-header with-border"},r.a.createElement("h3",{className:"box-title"},"\u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f")),r.a.createElement("div",{className:"box-body"},r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"\u0412\u0440\u0435\u043c\u0435"),r.a.createElement("td",null,t," s")),r.a.createElement("tr",null,r.a.createElement("td",null,"\u041f\u0430\u043c\u0435\u0442"),r.a.createElement("td",null,a," MB"))))))},ne=function(e){var t=e.tid,a=e.nextSubmissionTime;return r.a.createElement("div",{className:"nav-tabs-custom",style:{borderTop:"3px solid #d2d6de",borderBottom:"1px solid #f4f4f4"}},r.a.createElement("ul",{className:"nav nav-tabs pull-right"},r.a.createElement("li",{className:"active",style:{marginTop:"-3px"}},r.a.createElement("a",{href:"#file-upload","data-toggle":"tab"},"\u0424\u0430\u0439\u043b")),r.a.createElement("li",{style:{marginTop:"-3px"}},r.a.createElement("a",{href:"#source-upload","data-toggle":"tab"},"\u041a\u043e\u0434")),r.a.createElement("li",{className:"pull-left header",style:{fontSize:"18px"}},"\u041f\u0440\u0435\u0434\u0430\u0439 \u0440\u0435\u0448\u0435\u043d\u0438\u0435")),r.a.createElement("div",{className:"tab-content no-padding"},r.a.createElement("div",{className:"tab-pane active",id:"file-upload",style:{position:"relative"}},r.a.createElement(V,{tid:t,nextSubmissionTime:a})),r.a.createElement("div",{className:"tab-pane",id:"source-upload",style:{position:"relative",height:"auto"}},r.a.createElement(X,{tid:t,nextSubmissionTime:a}))))},re=function(e){var t=e.tid,a=e.submissions;return a?r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"box-header with-border"},r.a.createElement("h3",{className:"box-title"},"\u041f\u0440\u0435\u0434\u0430\u0434\u0435\u043d\u0438 \u0440\u0435\u0448\u0435\u043d\u0438\u044f",a.size)),r.a.createElement("div",{className:"box-body"},r.a.createElement("table",{className:"table table-bordered",style:{tableLayout:"fixed",wordWrap:"break-word"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"5%"}},"#"),r.a.createElement("th",{style:{width:"15%"}},"\u0427\u0430\u0441"),r.a.createElement("th",{style:{width:"70%"}},"\u0414\u0435\u0442\u0430\u0439\u043b\u0438"),r.a.createElement("th",{style:{width:"10%"}},"\u0422\u043e\u0447\u043a\u0438"))),r.a.createElement("tbody",null,a.map((function(e,n){return r.a.createElement("tr",{key:n},r.a.createElement("td",null,r.a.createElement(O.b,{to:"/task/".concat(t,"/submission/").concat(a.length-n)},a.length-n)),r.a.createElement("td",null,_.a.unix(e.upload_time/1e3).format("DD MMM YYYY hh:mm:ss")),r.a.createElement("td",null,r.a.createElement(J,{verdict:e.verdict})),r.a.createElement(U,{points:e.points,maxPoints:100,hovered:!1}))})))))):r.a.createElement(ee,null)},le=function(){return r.a.createElement("div",{className:"content-wrapper",style:{minHeight:"550px"}},r.a.createElement("section",{className:"content"},r.a.createElement("div",{className:"overlay fa-3x"},r.a.createElement(S.a,{icon:T.i,className:"fa-spin"}))))};var ce=function(e){var t=Object(n.useState)(null),a=Object(m.a)(t,2),r=a[0],l=a[1],c=Object(n.useState)(null),s=Object(m.a)(c,2),u=s[0],b=s[1],p=Object(n.useState)(null),E=Object(m.a)(p,2),f=E[0],h=E[1],v=Object(n.useState)(null),g=Object(m.a)(v,2),k=g[0],N=g[1],x=Object(n.useState)(!0),y=Object(m.a)(x,2),w=y[0],O=y[1];return Object(n.useEffect)((function(){function t(){return(t=Object(o.a)(i.a.mark((function t(){var a,n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,O(!0),l(null),b(null),t.next=6,d("tasks/".concat(e));case 6:return a=t.sent,t.next=9,d("tasks/".concat(e,"/submissions"));case 9:return n=t.sent,t.next=12,d("timeToSubmit");case 12:r=t.sent,h(Date.now()+r.timeToSubmit),b(n),l(a),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),N(t.t0);case 21:return t.prev=21,O(!1),t.finish(21);case 24:case"end":return t.stop()}}),t,null,[[0,18,21,24]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),P(Object(o.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d("tasks/".concat(e,"/submissions"));case 2:a=t.sent,b(a);case 4:case"end":return t.stop()}}),t)}))),u&&u.some((function(e){return"waiting"===e.verdict||"judging"===e.verdict}))?5e3:null),{task:r,submissions:u,nextSubmissionTime:f,error:k,loading:w}},se=function(){var e=F().contestIsRunning,t=F().contestIsFinished,a=Object(j.i)().tid,n=ce(a),l=n.task,c=n.submissions,s=n.nextSubmissionTime;if(n.loading||!e&&!t)return r.a.createElement(le,null);var i=c?c.reduce((function(e,t){return Math.max(e,t.points)}),0):0;return r.a.createElement("div",{className:"content-wrapper",style:{minHeight:"550px"}},r.a.createElement("section",{className:"content-header",style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("h1",{style:{display:"inline-block",verticalAlign:"top"}},"\u0417\u0430\u0434\u0430\u0447\u0430 ",a," - ",r.a.createElement("b",null,l.name)),r.a.createElement("div",{className:"progress-group",style:{display:"inline-block",height:"26px",verticalAlign:"top",width:"48.5%"}},r.a.createElement("span",{className:"progress-text"},"\u0422\u043e\u0447\u043a\u0438 \u043e\u0442 \u0432\u0438\u0434\u0438\u043c\u0438 \u0442\u0435\u0441\u0442\u043e\u0432\u0435"),r.a.createElement("span",{className:"progress-number"},r.a.createElement("b",null,i),"/100"),r.a.createElement("div",{className:"progress sm"},r.a.createElement("div",{className:"progress-bar progress-bar-aqua",style:{width:i+"%"}})))),r.a.createElement("section",{className:"content"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement(te,{tid:a}),e&&r.a.createElement(ae,{time:l.time,memory:l.memory})),r.a.createElement("div",{className:"col-md-6"},t&&r.a.createElement(ae,{time:l.time,memory:l.memory}),e&&r.a.createElement(ne,{tid:a,nextSubmissionTime:s}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},c&&r.a.createElement(re,{tid:a,submissions:c})))))};var ie={SubmissionOverview:function(e){var t=e.tid,a=e.submission;return r.a.createElement("div",{className:"box-body"},r.a.createElement("table",{style:{tableLayout:"fixed",wordWrap:"break-word"},className:"table table-bordered"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"15%"}},"\u0427\u0430\u0441"),r.a.createElement("th",{style:{width:"6%"}},"\u0413\u0440\u0443\u043f\u0430"),r.a.createElement("th",{style:{width:"10%"}},"\u0417\u0430\u0434\u0430\u0447\u0430"),r.a.createElement("th",{style:{width:"6%"}},"\u0422\u043e\u0447\u043a\u0438"),r.a.createElement("th",{style:{width:"63%"}},"\u0421\u0442\u0430\u0442\u0443\u0441")),r.a.createElement("tr",null,r.a.createElement("td",null,_.a.unix(a.upload_time/1e3).format("DD MMM YYYY hh:mm:ss")),r.a.createElement("td",null,a.contest),r.a.createElement("td",null,r.a.createElement(O.b,{to:"/task/".concat(t)},a.name)),r.a.createElement("td",null,a.points),r.a.createElement("td",null,r.a.createElement(J,{verdict:a.verdict}))))))},SubmissionDetails:function(e){var t=e.tests;return r.a.createElement("div",{className:"box-body"},r.a.createElement("table",{style:{tableLayout:"fixed",wordWrap:"break-word"},className:"table table-bordered table-striped"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"\u0421\u0442\u044a\u043f\u043a\u0430"),r.a.createElement("th",null,"\u0420\u0435\u0437\u0443\u043b\u0442\u0430\u0442"),r.a.createElement("th",null,"\u0412\u0440\u0435\u043c\u0435")),t.map((function(e,t){var a="OK"===e.verdict?"#00FF00":"HIDDEN"===e.verdict?"#d2d6de":"#ff0000";return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.name.replace("Test","\u0422\u0435\u0441\u0442 ")),r.a.createElement("td",{style:{backgroundColor:a}},e.verdict),r.a.createElement("td",null,e.time))})))))},SubmissionSource:function(e){var t=e.source;return r.a.createElement("pre",null,t)}};var oe=function(){var e=F().contestIsRunning,t=F().contestIsFinished,a=Object(j.i)(),l=a.tid,c=a.sid,s=Object(n.useState)(0),i=Object(m.a)(s,2),o=i[0],u=i[1],b=D(d,"tasks/".concat(l,"/solutions/").concat(c),[l,c,o]).value;return P((function(){u(o+1)}),b&&!b.points?5e3:null),(e||t)&&b?r.a.createElement("div",{className:"content-wrapper",style:{minHeight:"550px"}},r.a.createElement("section",{className:"content-header"},r.a.createElement("h1",null,"\u0420\u0435\u0448\u0435\u043d\u0438\u0435",r.a.createElement("small",null,"\u0434\u0435\u0442\u0430\u0439\u043b\u0438"))),r.a.createElement("section",{className:"content"},r.a.createElement("div",{className:"row"},r.a.createElement("section",{className:"col-lg-12 connectedSortable ui-sortable"},r.a.createElement("div",{className:"box"},r.a.createElement(ie.SubmissionOverview,{tid:l,submission:b}),b.tests&&r.a.createElement(ie.SubmissionDetails,{tests:b.tests})),r.a.createElement(ie.SubmissionSource,{source:b.source}))))):r.a.createElement(le,null)},me=function(){var e=Object(j.i)().tid,t=D(p,"tasks/".concat(e,"/pdf"),[e]).value,a=Object(n.useState)(),l=Object(m.a)(a,2),c=l[0],s=l[1];return Object(n.useEffect)((function(){function e(){return(e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&s(URL.createObjectURL(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),t?r.a.createElement("div",{className:"content-wrapper",style:{minHeight:"498px"}},r.a.createElement("content",null,r.a.createElement("object",{width:"100%",height:"530",data:c,type:"application/pdf"},r.a.createElement("inner-text",null,"pdf")))):r.a.createElement(le,null)};var ue=function(){return r.a.createElement("div",{className:"content-wrapper",style:{minHeight:"498px"}},r.a.createElement("section",{className:"content-header"},r.a.createElement("h1",null,"\u0415 ",r.a.createElement("b",null,"\u0433\u0440\u0443\u043f\u0430"))),r.a.createElement("section",{className:"content"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(K,null)))))};function de(){var e=F().announcements;return r.a.createElement("div",null,e.slice().reverse().map((function(e){return r.a.createElement("div",{key:e.id,className:"callout callout-"+(e.seen?"info":"danger")},e.topic&&r.a.createElement("h4",null,e.topic),r.a.createElement("p",null,e.announcement),!e.seen&&!1)})))}function be(e){var t=e.tasks;return r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"box-header with-border"},r.a.createElement("h3",{className:"box-title"},"\u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f")),r.a.createElement("div",{className:"box-body table-responsive"},r.a.createElement("table",{className:"table table-bordered table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"\u0417\u0430\u0434\u0430\u0447\u0430"),r.a.createElement("th",null,"\u0412\u0440\u0435\u043c\u0435"),r.a.createElement("th",null,"\u041f\u0430\u043c\u0435\u0442"),r.a.createElement("th",null,"\u0424\u0438\u0439\u0434\u0431\u0435\u043a"),r.a.createElement("th",null,"\u0421\u044a\u0431\u043c\u0438\u0442\u0438"))),r.a.createElement("tbody",null,t&&t.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.time?e.time+" s":"-"," "),r.a.createElement("td",null,e.memory?e.memory+" MB":"-"),r.a.createElement("td",null,e.feedback?e.feedback:"-"),r.a.createElement("td",null,e.submissions?e.submissions:"-"))}))))))}function pe(e){var t=e.tasks;return r.a.createElement("div",{className:"col-md-4"},r.a.createElement("p",{className:"text-center"},r.a.createElement("strong",null,"\u0412\u0438\u0434\u0438\u043c\u0438 \u0442\u043e\u0447\u043a\u0438")),t&&t.map((function(e,t){return r.a.createElement("div",{key:t,className:"progress-group"},r.a.createElement("span",{className:"progress-text"},e.name),r.a.createElement("span",{className:"progress-number"},r.a.createElement("b",null,e.publicScore),"/",e.maxPublicScore),r.a.createElement("div",{className:"progress sm"},r.a.createElement("div",{className:"progress-bar progress-bar-aqua",style:{width:100*e.publicScore/e.maxPublicScore+"%"}})))})))}var Ee=function(){var e=F().contestIsRunning,t=F().contestIsFinished,a=D(d,"tasks/info",[e]).value;return a?r.a.createElement("div",{className:"content-wrapper",style:{minHeight:"550px"}},r.a.createElement("section",{className:"content"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement(de,null),(e||t)&&a&&a.length>0&&r.a.createElement(be,{tasks:a})),(e||t)&&a&&a.length>0&&r.a.createElement(pe,{tasks:a})))):r.a.createElement(le,null)},fe=function(e){var t=e.question;return r.a.createElement("div",null,r.a.createElement("style",null,".direct-chat-new .right>.direct-chat-text{background:#d2d6de;border-color:#d2d6de;}.direct-chat-new .right>.direct-chat-text:after,.direct-chat-new .right>.direct-chat-text:before{content:none}"),r.a.createElement("style",null,".direct-chat-new .left>.direct-chat-text{background:#3c8dbc;border-color:#3c8dbc;color:#fff}.direct-chat-new .left>.direct-chat-text:after,.direct-chat-new .left>.direct-chat-text:before{content:none}"),r.a.createElement("div",{className:"".concat(t.answer&&!t.seen?"box-primary ":"","box direct-chat direct-chat-new")},r.a.createElement("div",{style:t.seen?{backgroundColor:"#f4f4f4"}:{},className:"box-body"},r.a.createElement("div",{className:"direct-chat-messages",style:{height:"auto"}},r.a.createElement("div",{className:"direct-chat-msg left"},r.a.createElement("div",{className:"direct-chat-info clearfix"},r.a.createElement("span",{className:"direct-chat-name pull-left"},"\u0412\u044a\u043f\u0440\u043e\u0441 ","\u0438\u0437\u0431\u0435\u0440\u0438"===t.topic?"":" \u0437\u0430 "+t.topic),r.a.createElement("span",{className:"direct-chat-timestamp pull-right"},_.a.unix(t.time/1e3).format("DD MMM YYYY hh:mm:ss"))),r.a.createElement("div",{className:"direct-chat-text"},t.question)),t.answer&&r.a.createElement("div",{className:"direct-chat-msg right"},r.a.createElement("div",{className:"direct-chat-info clearfix"},r.a.createElement("div",{className:"direct-chat-name pull-right"},"\u041e\u0442\u0433\u043e\u0432\u043e\u0440"),r.a.createElement("span",{className:"direct-chat-timestamp pull-left"},_.a.unix(t.answer_time/1e3).format("DD MMM YYYY hh:mm:ss"))),r.a.createElement("div",{className:"direct-chat-text"},t.answer)),t.answer&&!t.seen&&!1))))},he=function(){var e=F().updateQuestions,t=F().contestIsRunning,a=(F().contestIsStarted,D(d,"tasks",[t]).value),l=Object(n.useState)("\u0438\u0437\u0431\u0435\u0440\u0438"),c=Object(m.a)(l,2),s=c[0],u=c[1],b=Object(n.useState)(""),p=Object(m.a)(b,2),E=p[0],h=p[1],v=function(){var t=Object(o.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),E&&E.trim().length){t.next=3;break}return t.abrupt("return");case 3:return(n=new FormData).append("topic",s),n.append("question",E),n.append("ip","127.0.0.1"),t.next=9,f("questions",n);case 9:h(""),e();case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"box-header with-border"},r.a.createElement("h3",{className:"box-title"},"\u0417\u0430\u0434\u0430\u0439 \u0432\u044a\u043f\u0440\u043e\u0441")),r.a.createElement("div",{className:"box-body"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"\u0422\u0435\u043c\u0430"),r.a.createElement("select",{onChange:function(e){return u(e.target.value)},value:s,className:"form-control"},r.a.createElement("option",null,"\u0438\u0437\u0431\u0435\u0440\u0438"),a&&a.map((function(e){return r.a.createElement("option",{key:e.number,value:e.name},e.name)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"\u0412\u044a\u043f\u0440\u043e\u0441"),r.a.createElement("textarea",{value:E,onChange:function(e){return h(e.target.value)},className:"form-control",rows:"5",placeholder:"\u0412\u044a\u0432\u0435\u0434\u0438..."})))),r.a.createElement("div",{className:"box-footer"},r.a.createElement("button",{onClick:function(e){return v(e)},type:"submit",className:"btn btn-primary"},"\u0418\u0437\u043f\u0440\u0430\u0442\u0438")))},ve=function(){var e=F().questions;return r.a.createElement("div",{className:"content-wrapper",style:{minHeight:"550px"}},r.a.createElement("section",{className:"content"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},e.slice().reverse().map((function(e){return r.a.createElement(fe,{key:e.id,question:e})}))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement(he,null)))))};function ge(){var e=F().error,t=F().setError;return r.a.createElement("div",null,e&&r.a.createElement("div",{className:"modal modal-info fade in modal-open",id:"modal-default",style:{display:"block"}},r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("button",{type:"button",onClick:function(){return t(null)},className:"close","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")),r.a.createElement("h4",{className:"modal-title"},e.topic)),r.a.createElement("div",{className:"modal-body"},r.a.createElement("p",null,e.message)),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",onClick:function(){return t(null)},className:"btn btn-default pull-left","data-dismiss":"modal"},"Close"),r.a.createElement("button",{type:"button",className:"btn btn-primary"},"Save changes"))))))}function ke(){return r.a.createElement("div",{className:"box-body"},r.a.createElement("form",{method:"post",encType:"multipart/form-data",action:"/"},r.a.createElement("div",{className:"box-body"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"count"},"Count"),r.a.createElement("input",{type:"text",className:"form-control",name:"count",id:"count",placeholder:"How many workers would you like?"}))),r.a.createElement("div",{class:"box-footer"},r.a.createElement("button",{type:"submit",class:"btn btn-primary"},"Ensure"))))}function Ne(e){var t=e.workers;return r.a.createElement("div",{className:"box-body"},0===t.length&&r.a.createElement("div",null,"No workers"),0!==t.length&&r.a.createElement("table",{class:"table table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"10px"}},"Id"),r.a.createElement("th",null,"Url"),r.a.createElement("th",null,"Type"))),r.a.createElement("tbody",null,t.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.url),r.a.createElement("td",null,e.type))})))))}var xe=function(){return r.a.createElement("div",{className:"nav-tabs-custom",style:{borderTop:"3px solid #d2d6de",borderBottom:"1px solid #f4f4f4"}},r.a.createElement("ul",{className:"nav nav-tabs pull-right"},r.a.createElement("li",{className:"active",style:{marginTop:"-3px"}},r.a.createElement("a",{href:"#list-workers","data-toggle":"tab"},"List")),r.a.createElement("li",{style:{marginTop:"-3px"}},r.a.createElement("a",{href:"#ensure-workers","data-toggle":"tab"},"Ensure")),r.a.createElement("li",{className:"pull-left header",style:{fontSize:"18px"}},"Workers")),r.a.createElement("div",{className:"tab-content no-padding"},r.a.createElement("div",{className:"tab-pane",id:"ensure-workers",style:{position:"relative"}},r.a.createElement(ke,null)),r.a.createElement("div",{className:"tab-pane active",id:"list-workers",style:{position:"relative",height:"auto"}},r.a.createElement(Ne,{workers:[]}))))},ye=function(){return r.a.createElement("div",{className:"content-wrapper",style:{minHeight:"550px"}},r.a.createElement("section",{className:"content"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement(xe,null)))))},we=function(e){var t=e.content;return r.a.createElement(M,null,r.a.createElement("div",{className:"wrapper"},r.a.createElement(H,null),r.a.createElement(Q,null),"task"===t&&r.a.createElement(se,null),"submission"===t&&r.a.createElement(oe,null),"pdf"===t&&r.a.createElement(me,null),"questions"===t&&r.a.createElement(ve,null),"scoreboard"===t&&r.a.createElement(ue,null),"dashboard"===t&&r.a.createElement(Ee,null),"admin"===t&&r.a.createElement(ye,null),r.a.createElement(W,null),r.a.createElement(ge,null)))};var Oe=function(){var e=R().shortTitle,t=F().unreadQuestions,a=F().unreadAnnouncements;return r.a.createElement("header",{className:"main-header"},r.a.createElement(O.b,{to:"/",className:"logo"},r.a.createElement("span",{className:"logo-mini"},r.a.createElement("b",null,e)),r.a.createElement("span",{className:"logo-lg"},e)),r.a.createElement("nav",{className:"navbar navbar-static-top"},r.a.createElement("div",{className:"logo",style:{width:"auto",backgroundColor:"rgba(255, 255, 255, 0)"}},localStorage.getItem("name"),", ",localStorage.getItem("contest")," \u0433\u0440\u0443\u043f\u0430"),r.a.createElement("div",{className:"navbar-custom-menu"},r.a.createElement("ul",{className:"nav navbar-nav"},r.a.createElement("li",null,r.a.createElement(O.b,{to:"/"},r.a.createElement(S.a,{icon:T.a}),a>0&&r.a.createElement("span",{className:"label label-danger"},a))),r.a.createElement("li",null,r.a.createElement(O.b,{to:"/questions"},r.a.createElement(S.a,{icon:T.c}),t>0&&r.a.createElement("span",{className:"label label-danger"},t))),r.a.createElement("li",null,r.a.createElement(O.b,{to:"/",onClick:w().logout},r.a.createElement(S.a,{icon:T.h})))))))},je=function(){Object(j.i)().tid;var e=Object(j.h)(),t=D(d,"tasks",[]),a=(t.value,t.loading,F().contestIsRunning,F().contestIsFinished,F().unreadQuestions);F().unreadAnnouncements;return r.a.createElement("aside",{className:"main-sidebar"},r.a.createElement("section",{className:"sidebar"},r.a.createElement(L,null),r.a.createElement("ul",{className:"sidebar-menu tree","data-widget":"tree"},r.a.createElement("li",{className:"header"},"\u041c\u0415\u041d\u042e"),r.a.createElement("li",{className:"/admin"===e.pathname?"active":""},r.a.createElement(O.b,{to:"/admin"},r.a.createElement(S.a,{icon:T.e})," \xa0",r.a.createElement("span",null,"\u041d\u0430\u0447\u0430\u043b\u043e"))),r.a.createElement("li",{className:"/admin/contests"===e.pathname?"active":""},r.a.createElement(O.b,{to:"/admin/contests"},r.a.createElement(S.a,{icon:T.e})," \xa0",r.a.createElement("span",null,"\u0421\u044a\u0441\u0442\u0435\u0437\u0430\u043d\u0438\u044f"))),r.a.createElement("li",{className:"/admin/submissions"===e.pathname?"active":""},r.a.createElement(O.b,{to:"/admin/submissions"},r.a.createElement(S.a,{icon:T.e})," \xa0",r.a.createElement("span",null,"\u0420\u0435\u0448\u0435\u043d\u0438\u044f"))),r.a.createElement("li",{className:"/admin/results"===e.pathname?"active":""},r.a.createElement(O.b,{to:"/admin/results"},r.a.createElement(S.a,{icon:T.e})," \xa0",r.a.createElement("span",null,"\u0420\u0435\u0437\u0443\u043b\u0442\u0430\u0442\u0438"))),r.a.createElement("li",{className:"/admin/users"===e.pathname?"active":""},r.a.createElement(O.b,{to:"/admin/users"},r.a.createElement(S.a,{icon:T.e})," \xa0",r.a.createElement("span",null,"\u0421\u044a\u0441\u0442\u0435\u0437\u0430\u0442\u0435\u043b\u0438"))),r.a.createElement("li",{className:"/admin/questions"===e.pathname?"active":""},r.a.createElement(O.b,{to:"/admin/questions"},r.a.createElement(S.a,{icon:T.g})," \xa0",r.a.createElement("span",null,"\u0412\u044a\u043f\u0440\u043e\u0441\u0438"),a>0&&r.a.createElement("span",{className:"pull-right-container"},r.a.createElement("small",{className:"label pull-right bg-red"},"new")))))))},Se=function(e){var t=e.content;return r.a.createElement(M,null,r.a.createElement("div",{className:"wrapper"},r.a.createElement(Oe,null),r.a.createElement(je,null),"task"===t&&r.a.createElement(se,null),"submission"===t&&r.a.createElement(oe,null),"pdf"===t&&r.a.createElement(me,null),"questions"===t&&r.a.createElement(ve,null),"scoreboard"===t&&r.a.createElement(ue,null),"dashboard"===t&&r.a.createElement(Ee,null),"admin"===t&&r.a.createElement(ye,null),r.a.createElement(W,null),r.a.createElement(ge,null)))},Te=function(){return r.a.createElement(O.a,null,r.a.createElement(j.d,null,r.a.createElement(j.b,{path:"/task/:tid(\\d+)/submission/:sid(\\d+)",render:function(){return r.a.createElement(we,{content:"submission"})}}),r.a.createElement(j.b,{path:"/task/:tid(\\d+)/pdf",render:function(){return r.a.createElement(we,{content:"pdf"})}}),r.a.createElement(j.b,{path:"/task/:tid(\\d+)",render:function(){return r.a.createElement(we,{content:"task"})}}),r.a.createElement(j.b,{path:"/questions",render:function(){return r.a.createElement(we,{content:"questions"})}}),r.a.createElement(j.b,{path:"/scoreboard/:gid",render:function(){return r.a.createElement(we,{content:"scoreboard"})}}),r.a.createElement(j.b,{path:"/admin/dashboard",render:function(){return r.a.createElement(Se,{content:"admin"})}}),r.a.createElement(j.b,{path:"/",render:function(){return r.a.createElement(we,{content:"dashboard"})}}),r.a.createElement(j.b,{render:function(){return r.a.createElement(j.a,{to:"/task/1"})}})))};var Ce=function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),s=Object(m.a)(c,2),i=s[0],o=s[1],u=w().login,d=r.a.useCallback((function(e){e.preventDefault(),u(a,i)}),[u,a,i]),b=R().fullTitle;return r.a.createElement("div",{style:{height:"100%",background:"#d2d6de",transition:"none",OTransition:"none",WebkitTransition:"none"}},r.a.createElement("div",{className:"login-box",style:{margin:"0 auto",paddingTop:"7%",minHeight:"550px"}},r.a.createElement("div",{className:"login-logo"},r.a.createElement("a",{href:"/"},r.a.createElement("b",null,b))),r.a.createElement("div",{className:"login-box-body"},r.a.createElement("form",{method:"post",action:""},r.a.createElement("div",{className:"form-group has-feedback"},r.a.createElement("input",{type:"text",className:"form-control",onChange:function(e){return l(e.target.value)},placeholder:"\u0418\u043c\u0435",name:"username",value:a}),r.a.createElement(S.a,{icon:T.j,style:{marginRight:"10px"},className:"form-control-feedback"})),r.a.createElement("div",{className:"form-group has-feedback"},r.a.createElement("input",{type:"password",className:"form-control",onChange:function(e){return o(e.target.value)},placeholder:"\u041f\u0430\u0440\u043e\u043b\u0430",name:"password",value:i}),r.a.createElement(S.a,{icon:T.f,style:{marginRight:"10px"},className:"form-control-feedback"})),r.a.createElement("input",{type:"hidden",name:"ip",id:"ip",value:"382c5697-ca1c-47f8-af60-79156c17bb5a.local"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-8"},r.a.createElement("div",{className:"checkbox icheck"})),r.a.createElement("div",{className:"col-xs-4"},r.a.createElement("button",{onClick:d,className:"btn btn-primary btn-block btn-flat"},"\u0412\u0445\u043e\u0434")))))))};var Ie=function(){return w().isAuth?r.a.createElement(Te,null):r.a.createElement(Ce,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement((function(e){var t=e.children,a=Object(n.useState)("\u041d\u041e\u0418 1"),l=Object(m.a)(a,1)[0],c=Object(n.useState)("\u041d\u0430\u0446\u0438\u043e\u043d\u0430\u043b\u043d\u0430 \u043e\u043b\u0438\u043c\u043f\u0438\u0430\u0434\u0430 \u043f\u043e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0442\u0438\u043a\u0430, \u043e\u0431\u0449\u0438\u043d\u0441\u043a\u0438 \u043a\u0440\u044a\u0433"),s=Object(m.a)(c,1)[0];return Object(n.useEffect)((function(){document.title=l}),[l]),r.a.createElement(Y.Provider,{value:{shortTitle:l,fullTitle:s}},t)}),null,r.a.createElement((function(e){var t=e.children,a=Object(n.useState)(localStorage.hasOwnProperty("token")),l=Object(m.a)(a,2),c=l[0],s=l[1];function u(){return(u=Object(o.a)(i.a.mark((function e(t,a){var n,r,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.btoa(t+":"+a),e.next=3,k("user","json",n);case 3:if(r=e.sent,console.log(JSON.stringify(r)),r.ok){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,r.json();case 9:l=e.sent,localStorage.setItem("name",l.display_name),localStorage.setItem("contest",l.contest),localStorage.setItem("token",n),s(!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(y.Provider,{value:{isAuth:c,login:function(e,t){return u.apply(this,arguments)},logout:function(){localStorage.removeItem("display_name"),localStorage.removeItem("contest"),localStorage.removeItem("token"),s(!1)}}},t)}),null,r.a.createElement(Ie,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[29,1,2]]]);
//# sourceMappingURL=main.2a6602ea.chunk.js.map